    <!-- Navigation Header -->
    <header class="main-header" id="main-header">
        <nav class="navbar">
            <div class="nav-brand">
                <a href="/">
                    <i class="fas fa-sun"></i>
                    SOLARA
                </a>
            </div>
            
            <ul class="nav-menu" id="nav-menu">
                <li><a href="/" class="nav-link <%= typeof currentPage !== 'undefined' && currentPage === 'home' ? 'active' : '' %>"><%= typeof __ !== 'undefined' ? __("nav.home") : 'Home' %></a></li>
                <li><a href="/men" class="nav-link <%= typeof currentPage !== 'undefined' && currentPage === 'men' ? 'active' : '' %>"><%= typeof __ !== 'undefined' ? __("nav.men") : 'Men' %></a></li>
                <li><a href="/women" class="nav-link <%= typeof currentPage !== 'undefined' && currentPage === 'women' ? 'active' : '' %>"><%= typeof __ !== 'undefined' ? __("nav.women") : 'Women' %></a></li>
                <li><a href="/contact" class="nav-link <%= typeof currentPage !== 'undefined' && currentPage === 'contact' ? 'active' : '' %>"><%= typeof __ !== 'undefined' ? __("nav.contact") : 'Contact' %></a></li>
            </ul>
            
            <div class="nav-actions">
                <div class="search-box">
                    <input type="text" placeholder="<%= typeof __ !== 'undefined' ? __("nav.searchPlaceholder") : 'Search products...' %>" id="search-input">
                    <button type="button" id="search-btn"><i class="fas fa-search"></i></button>
                </div>
                
                <div class="user-actions">
                    <a href="/cart" class="nav-icon" id="cart-link" title="<%= typeof __ !== 'undefined' ? __("nav.cart") : 'Cart' %>">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cart-count">0</span>
                    </a>
                    <a href="/wishlist" class="nav-icon" id="wishlist-link" title="<%= typeof __ !== 'undefined' ? __("nav.wishlist") : 'Wishlist' %>">
                        <i class="fas fa-heart"></i>
                        <span class="wishlist-count" id="wishlist-count">0</span>
                    </a>
                    <% if (typeof user === 'undefined' || !user) { %>
                    <a href="/login" class="nav-icon" id="login-link" title="<%= typeof __ !== 'undefined' ? __("nav.login") : 'Login' %>">
                        <i class="fas fa-user"></i>
                    </a>
                    <% } else { %>
                    <a href="/profile" class="nav-icon" id="profile-link" title="<%= typeof __ !== 'undefined' ? __("nav.profile") : 'Profile' %>">
                        <i class="fas fa-user-circle"></i>
                    </a>
                    <button class="nav-icon" id="nav-logout-btn" title="<%= typeof __ !== 'undefined' ? __("nav.logout") : 'Logout' %>" style="background: none; border: none; cursor: pointer; padding: 0.5rem; color: var(--text-primary);">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                    <% } %>
                    <!-- Admin link - always visible -->
                    <a href="/admin" class="nav-icon <%= typeof user !== 'undefined' && user && user.role === 'admin' ? '' : 'subtle' %>" id="admin-link" title="<%= typeof __ !== 'undefined' ? __("nav.admin") : 'Admin' %>">
                        <i class="fas fa-cog"></i>
                    </a>
                </div>
            </div>
            
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Menu Overlay for Mobile -->
    <div class="menu-overlay" id="menu-overlay"></div>

<style>
    .language-selector {
        position: relative;
    }
    
    .language-dropdown {
        animation: fadeIn 0.2s ease;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .language-option:hover {
        background: var(--bg-light);
    }
    
    .language-option.active {
        background: rgba(230, 126, 34, 0.1);
        color: var(--accent-color);
        font-weight: 600;
    }
    
    .nav-icon.subtle {
        opacity: 0.5;
    }
    
    .nav-icon.subtle:hover {
        opacity: 1;
    }
</style>

<script>
    // Nav bar logout button - simple and direct
    (function() {
        const navLogoutBtn = document.getElementById('nav-logout-btn');
        if (navLogoutBtn) {
            navLogoutBtn.addEventListener('click', async function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                console.log('Nav logout clicked');
                
                // Clear local storage
                try {
                    localStorage.removeItem('token');
                    localStorage.removeItem('currentUser');
                    localStorage.removeItem('cart');
                    localStorage.removeItem('wishlist');
                    localStorage.removeItem('loggedInUser');
                    localStorage.removeItem('authToken');
                    localStorage.removeItem('solaraAdminAuthed');
                } catch (err) {
                    console.error('Error clearing localStorage:', err);
                }
                
                // Call logout API
                try {
                    await fetch('/api/auth/logout', {
                        method: 'POST',
                        credentials: 'include',
                        headers: { 'Content-Type': 'application/json' }
                    });
                } catch (error) {
                    console.log('Logout API error (may not be logged in):', error);
                }
                
                // Redirect to login
                window.location.href = '/login';
            });
        }
    })();
</script>

